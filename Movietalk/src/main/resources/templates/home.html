<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>홈</title>
    <meta charset="UTF-8">
</head>
<body>
<div th:replace="~{fragments/top-nav :: topNav}"></div>

<!-- 메인 그리드: 회원정보 + 메인콘텐츠(인기영화/배우) -->
<div style="display: flex; justify-content: flex-start; align-items: flex-start; gap:48px; max-width: 1400px; margin: 36px auto 64px;">

    <!-- 1. 왼쪽: 회원 정보 -->
    <div style="width: 220px; min-width: 180px; flex-shrink: 0;">
        <div style="border:1px solid #ddd; border-radius:14px; padding:24px;">
            <h3>회원 정보</h3>
            <div><span th:text="${nickname}"></span></div>
            <div>나의 리뷰 수: <span th:text="${reviewCnt}"></span></div>
            <div>나의 댓글 수: <span th:text="${commentCnt}"></span></div>
            <form th:action="@{/logout}" method="post" style="width:100%;">
                <button type="submit" class="logout-btn">로그아웃</button>
            </form>
        </div>
    </div>


    <!-- 2. 가운데: 인기 영화 + 인기 배우 (더 큼) -->
    <div style="flex:1; display: flex; flex-direction: column; align-items: center;">


        <div style="width: 100%; max-width: 1100px; margin:0 auto; min-width: 440px; border:2px solid #bbb; border-radius:22px; padding:38px 28px 38px 28px; margin-bottom:48px; background:#fafbfc;">
            <h2 style="margin-bottom:30px; font-size:2em;">🔥 인기 영화</h2>
            <div style="display: flex; gap: 40px; justify-content: center;">


                <div th:each="movie : ${popularMovies}"
                     style="width: 190px; border:1.5px solid #eee; border-radius:15px; padding:24px 10px; text-align:center; background:#fff; cursor:pointer; box-shadow: 0 3px 12px rgba(60,60,60,0.07); transition: box-shadow 0.18s;"
                     th:onclick="|window.location.href='/movies/${movie.movieId}'|"
                     onmouseover="this.style.boxShadow='0 8px 24px rgba(60,60,60,0.16)';"
                     onmouseout="this.style.boxShadow='0 3px 12px rgba(60,60,60,0.07)';"
                >
                    <img th:src="${movie.posterUrl}" style="border-radius:10px; width:140px; height:210px;"><br>
                    <span style="display:block; margin:22px 0 16px 0; font-size:1.1em; font-weight:600;" th:text="${movie.title}"></span>
                </div>

            </div>
        </div>


        <!-- 인기 배우 박스 (세로 더 큼) -->
        <div style="width: 100%; max-width: 1100px; margin:0 auto; min-width: 440px; border:2px solid #bbb; border-radius:22px; padding:38px 28px 38px 28px; margin-bottom:48px; background:#fafbfc;">
            <h2 style="margin-bottom:30px; font-size:2em;">🌟 인기 배우</h2>
            <div style="display: flex; gap: 40px; justify-content: center;">

                <div style="width: 170px; border:1.5px solid #eee; border-radius:15px; padding:24px 10px; text-align:center; background:#fff; cursor:pointer; box-shadow:0 3px 12px rgba(60,60,60,0.07); transition:box-shadow 0.18s;"
                     onclick="alert('배우 상세페이지 준비중입니다!')"
                     onmouseover="this.style.boxShadow='0 8px 24px rgba(60,60,60,0.16)';"
                     onmouseout="this.style.boxShadow='0 3px 12px rgba(60,60,60,0.07)';"
                >
                    <img src="https://via.placeholder.com/120x160?text=배우1" alt="배우1" style="border-radius:18px;"><br>
                    <span style="display:block; margin:18px 0 8px 0; font-size:1.07em; font-weight:500;">배우이름1</span>
                </div>


                <div style="width: 170px; border:1.5px solid #eee; border-radius:15px; padding:24px 10px; text-align:center; background:#fff; cursor:pointer; box-shadow:0 3px 12px rgba(60,60,60,0.07); transition:box-shadow 0.18s;"
                     onclick="alert('배우 상세페이지 준비중입니다!')"
                     onmouseover="this.style.boxShadow='0 8px 24px rgba(60,60,60,0.16)';"
                     onmouseout="this.style.boxShadow='0 3px 12px rgba(60,60,60,0.07)';"
                >
                    <img src="https://via.placeholder.com/120x160?text=배우2" alt="배우2" style="border-radius:18px;"><br>
                    <span style="display:block; margin:18px 0 8px 0; font-size:1.07em; font-weight:500;">배우이름2</span>
                </div>
                <div style="width: 170px; border:1.5px solid #eee; border-radius:15px; padding:24px 10px; text-align:center; background:#fff; cursor:pointer; box-shadow:0 3px 12px rgba(60,60,60,0.07); transition:box-shadow 0.18s;"
                     onclick="alert('배우 상세페이지 준비중입니다!')"
                     onmouseover="this.style.boxShadow='0 8px 24px rgba(60,60,60,0.16)';"
                     onmouseout="this.style.boxShadow='0 3px 12px rgba(60,60,60,0.07)';"
                >
                    <img src="https://via.placeholder.com/120x160?text=배우3" alt="배우3" style="border-radius:18px;"><br>
                    <span style="display:block; margin:18px 0 8px 0; font-size:1.07em; font-weight:500;">배우이름3</span>
                </div>
                <div style="width: 170px; border:1.5px solid #eee; border-radius:15px; padding:24px 10px; text-align:center; background:#fff; cursor:pointer; box-shadow:0 3px 12px rgba(60,60,60,0.07); transition:box-shadow 0.18s;"
                     onclick="alert('배우 상세페이지 준비중입니다!')"
                     onmouseover="this.style.boxShadow='0 8px 24px rgba(60,60,60,0.16)';"
                     onmouseout="this.style.boxShadow='0 3px 12px rgba(60,60,60,0.07)';"
                >
                    <img src="https://via.placeholder.com/120x160?text=배우4" alt="배우4" style="border-radius:18px;"><br>
                    <span style="display:block; margin:18px 0 8px 0; font-size:1.07em; font-weight:500;">배우이름4</span>
                </div>
            </div>
        </div>

        <!-- 인기 리뷰/댓글 통합 박스 -->
        <div style="width:100%; max-width:720px; margin:48px auto 0 auto; border:2px solid #bbb; border-radius:18px; background:#fff; overflow:hidden;">

            <div style="display:flex;">
                <div id="tab-review" style="flex:1; text-align:center; padding:22px 0; font-weight:600; font-size:1.13em; cursor:pointer; background:#4CAF50;"
                     onclick="showTab('review')"
                     onmouseover="this.style.backgroundColor='#43b14b'"
                     onmouseout="this.style.backgroundColor=selectedTab==='review' ? '#4CAF50' : '#f8f8f8'">
                    📝 인기 리뷰
                </div>
                <div id="tab-comment" style="flex:1; text-align:center; padding:22px 0; font-weight:600; font-size:1.13em; cursor:pointer; background:#f8f8f8;"
                     onclick="showTab('comment')"
                     onmouseover="this.style.backgroundColor='#43b14b'"
                     onmouseout="this.style.backgroundColor=selectedTab==='comment' ? '#4CAF50' : '#f8f8f8'">
                    💬 인기 댓글
                </div>
            </div>



            <div id="tab-review-list" style="padding:36px 38px;">
                <div th:each="review : ${topReviews}" style="margin-bottom:14px;">
                    <div
                            style="display: flex; align-items: center; justify-content: space-between; padding:12px 24px; border-radius:13px; background:#fafbfc; border:1.5px solid #e7e7e7; font-size:1.07em; cursor:pointer; transition:background 0.17s, box-shadow 0.17s;"
                            th:onclick="|window.location.href='@{/reviews/{id}(id=${review.reviewId})}'|"
                            onmouseover="this.style.background='#f3f6fa'; this.style.boxShadow='0 3px 16px #f2f2f2';"
                            onmouseout="this.style.background='#fafbfc'; this.style.boxShadow='none';"
                    >
                        <!-- 왼쪽: 제목, 내용 -->
                        <div>
                            <b th:text="${review.movieTitle}">영화 제목</b>
                            <span style="color:#bbb; margin:0 8px;">|</span>
                            <span th:text="${review.content}" style="color:#333;">리뷰 내용</span>
                        </div>
                        <!-- 오른쪽: 좋아요 수 -->
                        <div style="display: flex; align-items: center; gap:6px; min-width:65px; justify-content: flex-end;">
                            <img src="https://cdn-icons-png.flaticon.com/512/833/833472.png" alt="Like" width="18" style="margin-right:3px; opacity:0.7;">
                            <span th:text="${review.likeCount}" style="font-weight:600; color:#248253; font-size:1.07em;"></span>
                        </div>
                    </div>
                </div>
            </div>


            <div id="tab-comment-list" style="display:none; padding:36px 38px;">
                <div th:each="comment : ${topComments}" style="margin-bottom:14px;">
                    <div
                            style="display: flex; align-items: center; justify-content: space-between; padding:12px 24px; border-radius:13px; background:#fafbfc; border:1.5px solid #e7e7e7; font-size:1.07em; cursor:pointer; transition:background 0.17s, box-shadow 0.17s;"
                            th:onclick="|window.location.href='@{/reviews/{id}(id=${comment.reviewId})}'|"
                            onmouseover="this.style.background='#f3f6fa'; this.style.boxShadow='0 3px 16px #f2f2f2';"
                            onmouseout="this.style.background='#fafbfc'; this.style.boxShadow='none';"
                    >
                        <!-- 왼쪽: 닉네임 + 댓글 내용 -->
                        <div>
                            <b th:text="${comment.nickname}" style="margin-right:7px;">닉네임</b>
                            <span style="color:#bbb; margin:0 7px;">|</span>
                            <span th:text="${comment.content}" style="color:#333; max-width:340px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; display: inline-block; vertical-align: middle;">댓글 내용</span>
                        </div>
                        <!-- 오른쪽: 좋아요 수 -->
                        <div style="display: flex; align-items: center; gap:6px; min-width:65px; justify-content: flex-end;">
                            <img src="https://cdn-icons-png.flaticon.com/512/833/833472.png" alt="Like" width="18" style="margin-right:3px; opacity:0.7;">
                            <span th:text="${comment.likeCount}" style="font-weight:600; color:#248253; font-size:1.07em;"></span>
                        </div>
                    </div>
                </div>
            </div>


        <script>
            // 탭 전환 스크립트
            let selectedTab = 'review';
            function showTab(tab) {
                selectedTab = tab;
                document.getElementById('tab-review-list').style.display = tab === 'review' ? 'block' : 'none';
                document.getElementById('tab-comment-list').style.display = tab === 'comment' ? 'block' : 'none';
                document.getElementById('tab-review').style.background = tab === 'review' ? '#4CAF50' : '#f8f8f8';
                document.getElementById('tab-comment').style.background = tab === 'comment' ? '#4CAF50' : '#f8f8f8';
            }
        </script>


    </div>
</div>
</div>




</body>
</html>
