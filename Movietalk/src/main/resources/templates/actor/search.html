<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Î∞∞Ïö∞ Í≤ÄÏÉâ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f5f5f5;
        }

        h1 {
            font-size: 2.5em;
            margin-top: 30px;
        }

        .search-form {
            margin: 30px auto;
        }

        input[type="text"] {
            width: 300px;
            padding: 10px;
            font-size: 16px;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }

        .card-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr); /* ‚úÖ Ìïú Ï§ÑÏóê 5Í∞ú */
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: black;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 10px;
            transition: box-shadow 0.2s;
        }

        .card:hover {
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 8px;
        }

        .actor-name {
            margin-top: 10px;
            font-weight: bold;
            text-align: center;
        }

        .actor-name {
            padding: 10px;
            font-weight: bold;
            font-size: 18px;
            color: #333;
        }

        .pagination-list {
            list-style: none;
            display: flex;
            justify-content: center;
            padding: 0;
            margin-top: 30px;
        }

        .pagination-list li {
            margin: 0 5px;
        }

        .pagination-list a {
            display: block;
            padding: 8px 14px;
            background-color: #eee;
            color: #333;
            text-decoration: none;
            border-radius: 4px;
            font-size: 14px;
        }

        .pagination-list li.active a {
            background-color: #4a90e2;
            color: white;
            font-weight: bold;
        }
    </style>
</head>

<body>
<div th:replace="~{fragments/top-nav :: topNav}"></div>


<h1>üé¨ Î∞∞Ïö∞ Í≤ÄÏÉâ</h1>

<form class="search-form" th:action="@{/actors/search}" method="get">

    <input type="text" name="query" placeholder="Î∞∞Ïö∞ Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî" required>

    <button type="submit">Í≤ÄÏÉâ</button>

</form>

<div class="card-container">

    <div th:each="actor : ${actors}">

        <a th:href="@{'/actors/' + ${actor.id}}" class="card">

            <img th:src="'https://image.tmdb.org/t/p/w300' + ${actor.profilePath}" alt="Î∞∞Ïö∞ Ïù¥ÎØ∏ÏßÄ">

            <p th:text="${actor.name}" class="actor-name"></p>

        </a>

    </div>

</div>

<h2 style="margin-top: 50px;">üìå Í≤ÄÏÉâÎêú Î∞∞Ïö∞ </h2>
<div class="card-container">
    <div th:each="actor : ${cachedActors}">
        <a th:href="@{'/actors/' + ${actor.id}}" class="card">
            <img th:if="${actor.profilePath != null}" th:src="${actor.profilePath}" alt="Î∞∞Ïö∞ Ïù¥ÎØ∏ÏßÄ">
            <img th:if="${actor.profilePath == null}" src="/images/no-image.png" alt="Ïù¥ÎØ∏ÏßÄ ÏóÜÏùå"> <!-- ÎåÄÏ≤¥ Ïù¥ÎØ∏ÏßÄ -->
            <p th:text="${actor.name}" class="actor-name"></p>
        </a>
    </div>
</div>

<div class="pagination">
    <ul class="pagination-list">

        <li th:if="${cachedActors.hasPrevious()}">
            <a th:href="@{'/actors/search'(page=${cachedActors.number - 1})}">&laquo; Ïù¥Ï†Ñ</a>
        </li>

        <li th:each="i : ${#numbers.sequence(0, cachedActors.totalPages - 1)}"
            th:classappend="${i == cachedActors.number} ? 'active'">
            <a th:href="@{'/actors/search'(page=${i})}" th:text="${i + 1}">1</a>
        </li>

        <li th:if="${cachedActors.hasNext()}">
            <a th:href="@{'/actors/search'(page=${cachedActors.number + 1})}">Îã§Ïùå &raquo;</a>
        </li>

    </ul>
</div>
</body>
</html>
